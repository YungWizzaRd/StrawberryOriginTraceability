<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Verify Your Strawberries - Origin Traceability</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <!-- Header -->
  <nav class="navbar navbar-light bg-white shadow-sm">
    <div class="container">
      <span class="navbar-brand mb-0 h1">üçì Strawberry Origin Traceability</span>
      <a href="portal.html" class="btn btn-outline-primary btn-sm">Supply Chain Portal ‚Üí</a>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <!-- Hero Section -->
        <div class="text-center mb-5">
          <h1 class="display-4 mb-3">Verify Your Strawberries</h1>
          <p class="lead text-muted">
            Enter the product ID from your package to see the complete journey of your strawberries from farm to store.
          </p>
        </div>

        <!-- Verification Card -->
        <div class="card shadow-sm">
          <div class="card-body p-4">
            <h5 class="card-title mb-4">Product Verification</h5>

            <div class="mb-4">
              <label for="publicTraceId" class="form-label">Product ID</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="publicTraceId"
                placeholder="Enter Product ID (e.g., P0001)"
                aria-label="Product ID">
              <small class="form-text text-muted">
                Find the product ID on the package label or QR code
              </small>
            </div>

            <button
              class="btn btn-primary btn-lg w-100"
              onclick="publicGetHistory()">
              Verify Product
            </button>
          </div>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="mt-4" style="display:none;">
          <div class="card shadow-sm">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">‚úì Product History</h5>
            </div>
            <div class="card-body">
              <div id="publicOutput" class="product-timeline"></div>
            </div>
          </div>
        </div>

        <!-- Invalid Product Message -->
        <div id="invalidProduct" class="alert alert-danger mt-4" style="display:none;">
          <h5 class="alert-heading">Invalid or Unverified Product</h5>
          <p class="mb-0">
            The product ID you entered does not exist in our system. Please check the ID and try again,
            or contact the retailer for assistance.
          </p>
        </div>

        <!-- Info Section -->
        <div class="card mt-5 bg-light border-0">
          <div class="card-body">
            <h6 class="card-title">Why Verify?</h6>
            <ul class="mb-0">
              <li>Confirm your strawberries are genuinely from Latvia</li>
              <li>See the complete journey from farm to store</li>
              <li>Verify harvest dates and handling conditions</li>
              <li>Support local farmers with transparent practices</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-white mt-5 py-4 border-top">
    <div class="container text-center text-muted">
      <small>
        üçì Strawberry Origin Traceability System<br>
        Supporting Latvian farmers and transparent supply chains
      </small>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
  <script src="app.js"></script>
  <style>
    .product-timeline {
      white-space: pre-wrap;
      font-family: 'Courier New', monospace;
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 0.25rem;
      line-height: 1.8;
    }
  </style>
</body>
</html>
